{"remainingRequest":"/home/monidan/programming/portfolio/login-page-grails/client/node_modules/babel-loader/lib/index.js!/home/monidan/programming/portfolio/login-page-grails/client/node_modules/eslint-loader/index.js??ref--13-0!/home/monidan/programming/portfolio/login-page-grails/client/src/store/index.js","dependencies":[{"path":"/home/monidan/programming/portfolio/login-page-grails/client/src/store/index.js","mtime":1611224336836},{"path":"/home/monidan/programming/portfolio/login-page-grails/client/node_modules/cache-loader/dist/cjs.js","mtime":1611062447016},{"path":"/home/monidan/programming/portfolio/login-page-grails/client/node_modules/babel-loader/lib/index.js","mtime":1611062446660},{"path":"/home/monidan/programming/portfolio/login-page-grails/client/node_modules/eslint-loader/index.js","mtime":1611062454938}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpWdWUudXNlKFZ1ZXgpOwovKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi8KCnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlcnM6IFtdLAogICAgaGFzUGVybWlzc2lvbjogZmFsc2UsCiAgICBzZXJ2ZXJVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVkVSX1VSTCwKICAgIGlzQXV0aEVycm9yOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoZW50aWNhdGVVc2VyOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVVc2VyKHN0YXRlLCB1c2VyRW50cnkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS51c2Vycy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzdGF0ZS51c2Vyc1tpXS5sb2dpbiA9PT0gdXNlckVudHJ5LmxvZ2luICYmIHN0YXRlLnVzZXJzW2ldLnBhc3N3b3JkID09PSB1c2VyRW50cnkucGFzc3dvcmQpIHsKICAgICAgICAgIHN0YXRlLmhhc1Blcm1pc3Npb24gPSB0cnVlOwogICAgICAgICAgc3RhdGUuaXNBdXRoRXJyb3IgPSBmYWxzZTsKICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ1RpdGxlUGFnZScKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc3RhdGUuaXNBdXRoRXJyb3IgPSB0cnVlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgcmVxdWVzdFBlcm1pc3Npb246IGZ1bmN0aW9uIHJlcXVlc3RQZXJtaXNzaW9uKF9yZWYsIHVzZXJBdXRoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHJlcXVlc3RQZXJtaXNzaW9uJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoYXhpb3MuZ2V0KHN0YXRlLnNlcnZlclVSTCArICcvYXBpL3VzZXInKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKSwKICAgICAgICAgICAgICAgICAgICBYTUxSZXNwb25kID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZS5kYXRhLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IFhNTFJlc3BvbmQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZXInKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdXNlclhNTCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIHZhciB1c2VyID0gewogICAgICAgICAgICAgICAgICAgICAgbG9naW46IHVzZXJYTUwuZmlyc3RDaGlsZC5pbm5lckhUTUwsCiAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdXNlclhNTC5sYXN0Q2hpbGQuaW5uZXJIVE1MCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZS51c2Vycy5wdXNoKHVzZXIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbW1pdCgnYXV0aGVudGljYXRlVXNlcicsIHVzZXJBdXRoKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICBzdGF0ZS5pc0F1dGhFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/home/monidan/programming/portfolio/login-page-grails/client/src/store/index.js"],"names":["Vue","Vuex","router","axios","use","store","Store","state","users","hasPermission","serverURL","process","env","VUE_APP_SERVER_URL","isAuthError","mutations","authenticateUser","userEntry","i","length","login","password","push","name","actions","requestPermission","userAuth","commit","get","then","response","parser","DOMParser","XMLRespond","parseFromString","data","getElementsByTagName","userXML","user","firstChild","innerHTML","lastChild","catch","err","console","log"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA;;AACA,IAAMI,KAAK,GAAG,IAAIJ,IAAI,CAACK,KAAT,CAAe;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,EADF;AAELC,IAAAA,aAAa,EAAE,KAFV;AAGLC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBAHlB;AAILC,IAAAA,WAAW,EAAE;AAJR,GADoB;AAO3BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,gBADS,4BACQT,KADR,EACeU,SADf,EACyB;AAChC,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGX,KAAK,CAACC,KAAN,CAAYW,MAA/B,EAAuCD,CAAC,EAAxC,EAA2C;AACzC,YAAGX,KAAK,CAACC,KAAN,CAAYU,CAAZ,EAAeE,KAAf,KAAyBH,SAAS,CAACG,KAAnC,IAA4Cb,KAAK,CAACC,KAAN,CAAYU,CAAZ,EAAeG,QAAf,KAA4BJ,SAAS,CAACI,QAArF,EAA8F;AAC5Fd,UAAAA,KAAK,CAACE,aAAN,GAAsB,IAAtB;AACAF,UAAAA,KAAK,CAACO,WAAN,GAAoB,KAApB;AACAZ,UAAAA,MAAM,CAACoB,IAAP,CAAY;AAACC,YAAAA,IAAI,EAAE;AAAP,WAAZ;AACA;AACD;AACF;;AACDhB,MAAAA,KAAK,CAACO,WAAN,GAAoB,IAApB;AACD;AAXQ,GAPgB;AAoB3BU,EAAAA,OAAO,EAAE;AACDC,IAAAA,iBADC,mCACkCC,QADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AACkBC,cAAAA,MADlB,QACkBA,MADlB,EAC0BpB,KAD1B,QAC0BA,KAD1B;AAAA;AAAA,8CAECJ,KAAK,CAACyB,GAAN,CAAUrB,KAAK,CAACG,SAAN,GAAkB,WAA5B,EACHmB,IADG,CACE,UAAAC,QAAQ,EAAI;AAChB,oBAAIC,MAAM,GAAG,IAAIC,SAAJ,EAAb;AAAA,oBACAC,UAAU,GAAGF,MAAM,CAACG,eAAP,CAAuBJ,QAAQ,CAACK,IAAhC,EAAsC,UAAtC,CADb;AADgB;AAAA;AAAA;;AAAA;AAIhB,uCAAmBF,UAAU,CAACG,oBAAX,CAAgC,MAAhC,CAAnB,8HAA2D;AAAA,wBAAnDC,OAAmD;AACzD,wBAAIC,IAAI,GAAG;AACTlB,sBAAAA,KAAK,EAAEiB,OAAO,CAACE,UAAR,CAAmBC,SADjB;AAETnB,sBAAAA,QAAQ,EAAEgB,OAAO,CAACI,SAAR,CAAkBD;AAFnB,qBAAX;AAIAjC,oBAAAA,KAAK,CAACC,KAAN,CAAYc,IAAZ,CAAiBgB,IAAjB;AACD;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWhBX,gBAAAA,MAAM,CAAC,kBAAD,EAAqBD,QAArB,CAAN;AACD,eAbG,EAcHgB,KAdG,CAcG,UAAAC,GAAG,EAAI;AACZ;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACApC,gBAAAA,KAAK,CAACO,WAAN,GAAoB,IAApB;AACD,eAlBG,CAFD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBkB,CAAf,CAAd;AA6CA,eAAeT,KAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport router from '@/router/index'\n\nimport axios from 'axios';\n\nVue.use(Vuex)\n\n/* eslint-disable no-new */\nconst store = new Vuex.Store({\n  state: {\n    users: [],\n    hasPermission: false,\n    serverURL: process.env.VUE_APP_SERVER_URL,\n    isAuthError: false\n  },\n  mutations: {\n    authenticateUser(state, userEntry){\n      for(let i = 0; i < state.users.length; i++){\n        if(state.users[i].login === userEntry.login && state.users[i].password === userEntry.password){\n          state.hasPermission = true\n          state.isAuthError = false\n          router.push({name: 'TitlePage'})\n          return\n        }\n      }\n      state.isAuthError = true\n    }\n  },\n  actions: {\n    async requestPermission({commit, state}, userAuth){\n      await axios.get(state.serverURL + '/api/user')\n        .then(response => {\n          let parser = new DOMParser(),\n          XMLRespond = parser.parseFromString(response.data, 'text/xml')\n          \n          for(let userXML of XMLRespond.getElementsByTagName('user')){\n            let user = {\n              login: userXML.firstChild.innerHTML,\n              password: userXML.lastChild.innerHTML\n            }\n            state.users.push(user)\n          }\n          commit('authenticateUser', userAuth);\n        })\n        .catch(err => {\n          // eslint-disable-next-line\n          console.log(err)\n          state.isAuthError = true\n        })\n    }\n  },\n})\n\nexport default store\n"]}]}